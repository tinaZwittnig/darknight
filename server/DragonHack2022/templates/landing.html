<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <title>Dark Knight</title>
    <link >

    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="{% static 'css/materialize/css/materialize.min.css' %}"
          media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="{% static 'css/moj.css' %}" media="screen,projection"/>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <script
            src="https://code.jquery.com/jquery-3.5.1.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous"></script>
    <style>

        body {
            background-image: url('{% static  "pictures/01a-ozadje.png"%}');
            background-repeat: no-repeat;
            font-family: 'Montserrat', sans-serif;
            background-color: #000000;
        }
        @font-face {
          font-family: Bauhaus93;
          src: url('{% static "fonts/BAUHS93.ttf" %}');
          font-size: 100px;
        }

    </style>
</head>
<body>

<div class="container">
    <div class="row">
        <div class="col s6 offset-s3">
          <div class="card black">
            <div class="card-content white-text">
              <p style="font-family:Bauhaus93">Who stopped by?</p>
            </div>
          </div>
        </div>
      </div>
    <div class="row">
    <div class="col s6 offset-s3">
      <div class="card black">
        <div class="card-content white-text">
          <span class="card-title" id="visitors">Number of passing by</span>
            <p>Lights were turned off for {{ sleep_time|truncatechars:3 }} hours.</p>
            <p>CO2 saved: {{ CO2 }} kg</p>
            <p>There were {{ passing_by }} people passing by.</p>
            <canvas id="myChart" width="400" height="200"></canvas>
        </div>
      </div>
    </div>
  </div>
        <div class="row">
    <div class="col s6 offset-s3">
      <div class="card black">
        <div class="card-content white-text">
          <span class="card-title" id="visitors">Number of people looking in display</span>
            <p>There were {{ views }} people who looked in display.</p>
            <canvas id="myChart2" width="400" height="200"></canvas>
        </div>
      </div>
    </div>
  </div>
    <div class="row">
    <div class="col s6 offset-s3">
      <div class="card black">
        <div class="card-content white-text">
          <span class="card-title" id="visitors">Temperature</span>
            <canvas id="myChart3" width="400" height="200"></canvas>
        </div>
      </div>
    </div>
  </div>
     <div class="row">
    <div class="col s6 offset-s3">
      <div class="card black">
        <div class="card-content white-text">
          <span class="card-title" id="visitors">Air Pressure</span>
            <canvas id="myChart4" width="400" height="200"></canvas>
        </div>
      </div>
    </div>
  </div>
     <div class="row">
    <div class="col s6 offset-s3">
      <div class="card black">
        <div class="card-content white-text">
          <span class="card-title" id="visitors">Humidity</span>
            <canvas id="myChart5" width="400" height="200"></canvas>
        </div>
      </div>
    </div>
  </div>

     <div class="row">
    <div class="col s6 offset-s3">
      <div class="card black">
        <div class="card-content white-text">
          <span class="card-title" id="visitors">Air pollution</span>
            <canvas id="myChart6" width="400" height="200"></canvas>
        </div>
      </div>
    </div>
  </div>

         <div class="row">
    <div class="col s6 offset-s3">
      <div class="card black">
        <div class="card-content white-text">
          <span class="card-title" id="visitors">Light pollution</span>
            <canvas id="myChart7" width="400" height="200"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>


<script>
    const ctx = document.getElementById('myChart').getContext('2d');
    const ctx2 = document.getElementById('myChart2').getContext('2d');
    const ctx3 = document.getElementById('myChart3').getContext('2d');
    const ctx4 = document.getElementById('myChart4').getContext('2d');
    const ctx5 = document.getElementById('myChart5').getContext('2d');
    const ctx6 = document.getElementById('myChart6').getContext('2d');
    const ctx7 = document.getElementById('myChart7').getContext('2d');

    var passes_by_hour ={{ passes_by_hour }};
    var views_by_hour ={{ views_by_hour }};
    var temperature ={{ temperature }};
    var pressure ={{ pressure }};
    var humidity ={{ humidity }};
    var gas ={{ gas }};
    var lux ={{ lux }};

    const myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: Object.keys(passes_by_hour),
            datasets: [{
                label: '# of people passing by',
                data: passes_by_hour,
                backgroundColor: [
                    '#ffd64e',
                    '#ffffff'
                ],
                borderColor: [
                    '#ffd64e',
                    '#ffffff'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                x: {
                    ticks: {
                        color: '#ffffff'
                    }
                },
                y: {
                    ticks: {
                        color: '#ffffff'
                    }
                }
            }
    }
    });
    const myChart2 = new Chart(ctx2, {
        type: 'bar',
        data: {
            labels: Object.keys(views_by_hour),
            datasets: [{
                label: '# of people which looked in display',
                data: views_by_hour,
                backgroundColor: [
                    '#ffd64e',
                    '#ffffff'
                ],
                borderColor: [
                    '#ffd64e',
                    '#ffffff'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                x: {
                    ticks: {
                        color: '#ffffff'
                    }
                },
                y: {
                    ticks: {
                        color: '#ffffff'
                    }
                }
            }
    }
    });

     const myChart3 = new Chart(ctx3, {
        type: 'line',
        data: {
            labels: Object.keys(temperature),
            datasets: [{
                label: '# of Votes',
                data: views_by_hour,
                backgroundColor: [
                    '#ffd64e',
                    '#ffffff'
                ],
                borderColor: [
                    '#ffd64e',
                    '#ffffff'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                x: {
                    ticks: {
                        color: '#ffffff'
                    }
                },
                y: {
                    ticks: {
                        color: '#ffffff'
                    }
                }
            }
    }
    });

     const myChart4 = new Chart(ctx4, {
        type: 'line',
        data: {
            labels: Object.keys(pressure),
            datasets: [{
                label: '# of Votes',
                data: views_by_hour,
                backgroundColor: [
                    '#ffd64e',
                    '#ffffff'
                ],
                borderColor: [
                    '#ffd64e',
                    '#ffffff'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                x: {
                    ticks: {
                        color: '#ffffff'
                    }
                },
                y: {
                    ticks: {
                        color: '#ffffff'
                    }
                }
            }
    }
    });

    const myChart5 = new Chart(ctx5, {
        type: 'line',
        data: {
            labels: Object.keys(humidity),
            datasets: [{
                label: '# of Votes',
                data: views_by_hour,
                backgroundColor: [
                    '#ffd64e',
                    '#ffffff'
                ],
                borderColor: [
                    '#ffd64e',
                    '#ffffff'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                x: {
                    ticks: {
                        color: '#ffffff'
                    }
                },
                y: {
                    ticks: {
                        color: '#ffffff'
                    }
                }
            }
    }
    });

    const myChart6 = new Chart(ctx6, {
        type: 'line',
        data: {
            labels: Object.keys(gas),
            datasets: [{
                label: '# of Votes',
                data: views_by_hour,
                backgroundColor: [
                    '#ffd64e',
                    '#ffffff'
                ],
                borderColor: [
                    '#ffd64e',
                    '#ffffff'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                x: {
                    ticks: {
                        color: '#ffffff'
                    }
                },
                y: {
                    ticks: {
                        color: '#ffffff'
                    }
                }
            }
    }
    });

    const myChart7 = new Chart(ctx7, {
        type: 'line',
        data: {
            labels: Object.keys(lux),
            datasets: [{
                label: '# of Votes',
                data: views_by_hour,
                backgroundColor: [
                    '#ffd64e',
                    '#ffffff'
                ],
                borderColor: [
                    '#ffd64e',
                    '#ffffff'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                x: {
                    ticks: {
                        color: '#ffffff'
                    }
                },
                y: {
                    ticks: {
                        color: '#ffffff'
                    }
                }
            }
    }
    });
</script>
</body>
</html>
